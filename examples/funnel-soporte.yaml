funnel:
  id: "soporte_cliente"
  start: "bienvenida"
  nodes:
    bienvenida:
      type: message
      text: |
        ¡Hola! 👋
        Soy el **Asistente de Soporte** de WACosta.
        ¿Con qué puedo ayudarte?
      next: menu_soporte

    menu_soporte:
      type: question
      style: choice
      text: "Selecciona el tema de tu consulta:"
      options:
        - label: "Problema técnico"
          next: problema_tecnico
        - label: "Consulta sobre servicios"
          next: consulta_servicios
        - label: "Facturación y pagos"
          next: facturacion
        - label: "Hablar con un agente"
          action: whatsapp
          phone: "+573154543344"
          prefill: "Hola, necesito hablar con un agente de soporte."

    problema_tecnico:
      type: question
      style: choice
      text: "¿Qué tipo de problema técnico tienes?"
      options:
        - label: "El sitio web no carga"
          next: solucion_web
        - label: "No puedo acceder a mi cuenta"
          next: solucion_acceso
        - label: "Error en el formulario"
          next: solucion_formulario
        - label: "Otro problema"
          action: whatsapp
          phone: "+573154543344"
          prefill: "Tengo un problema técnico que no está en la lista."

    consulta_servicios:
      type: question
      style: choice
      text: "¿Sobre qué servicio quieres información?"
      options:
        - label: "Desarrollo web"
          next: info_desarrollo
        - label: "Marketing digital"
          next: info_marketing
        - label: "Diseño gráfico"
          next: info_diseno
        - label: "Consultoría"
          next: info_consultoria

    facturacion:
      type: message
      text: |
        Para consultas sobre **facturación y pagos**, puedes:
        
        📧 Enviar un email a: facturacion@wacosta.com
        📱 Llamar al: +57 (1) 234-5678
        💬 Escribir por WhatsApp
        
        ¿Prefieres alguna de estas opciones?
      next: contacto_facturacion

    solucion_web:
      type: message
      text: |
        **Soluciones para problemas de carga:**
        
        1. Verifica tu conexión a internet
        2. Borra la caché del navegador
        3. Intenta con otro navegador
        4. Si persiste, contáctanos
        
        ¿Te ayudó alguna de estas soluciones?
      next: confirmacion_solucion

    solucion_acceso:
      type: message
      text: |
        **Para recuperar acceso a tu cuenta:**
        
        1. Ve a "¿Olvidaste tu contraseña?"
        2. Ingresa tu email registrado
        3. Revisa tu bandeja de entrada
        4. Sigue el enlace para restablecer
        
        ¿Necesitas ayuda con algún paso?
      next: confirmacion_solucion

    solucion_formulario:
      type: message
      text: |
        **Si hay errores en formularios:**
        
        1. Verifica que todos los campos estén completos
        2. Revisa el formato del email
        3. Asegúrate de que el teléfono tenga 10 dígitos
        4. Intenta con otro navegador
        
        ¿El problema persiste?
      next: confirmacion_solucion

    info_desarrollo:
      type: message
      text: |
        **Desarrollo Web:**
        
        🎯 Páginas web responsivas
        🛒 Tiendas online (e-commerce)
        📱 Aplicaciones web
        ⚡ Optimización y velocidad
        
        ¿Te interesa algún servicio específico?
      next: contacto_servicios

    info_marketing:
      type: message
      text: |
        **Marketing Digital:**
        
        📈 SEO y posicionamiento
        📱 Redes sociales
        📧 Email marketing
        🎯 Publicidad online
        
        ¿En qué plataforma quieres promocionarte?
      next: contacto_servicios

    info_diseno:
      type: message
      text: |
        **Diseño Gráfico:**
        
        🎨 Identidad visual
        📄 Material publicitario
        🖼️ Diseño web
        📱 Interfaces de usuario
        
        ¿Necesitas diseño para web o impresión?
      next: contacto_servicios

    info_consultoria:
      type: message
      text: |
        **Consultoría Digital:**
        
        📊 Análisis de tu presencia online
        🎯 Estrategia de marketing
        💡 Mejores prácticas
        📈 Plan de crecimiento
        
        ¿En qué área necesitas asesoría?
      next: contacto_servicios

    contacto_facturacion:
      type: question
      style: choice
      text: "¿Cómo prefieres que te contactemos?"
      options:
        - label: "Email"
          action: redirect
          url: "mailto:facturacion@wacosta.com"
        - label: "WhatsApp"
          action: whatsapp
          phone: "+573154543344"
          prefill: "Consulta sobre facturación y pagos."

    confirmacion_solucion:
      type: question
      style: choice
      text: "¿Se resolvió tu problema?"
      options:
        - label: "Sí, gracias"
          next: despedida
        - label: "No, necesito más ayuda"
          action: whatsapp
          phone: "+573154543344"
          prefill: "El problema persiste, necesito asistencia técnica."

    contacto_servicios:
      type: question
      style: choice
      text: "¿Te gustaría recibir más información?"
      options:
        - label: "Sí, contactarme"
          action: whatsapp
          phone: "+573154543344"
          prefill: "Me interesa obtener más información sobre sus servicios."
        - label: "No, gracias"
          next: despedida

    despedida:
      type: message
      text: |
        ¡Perfecto! 
        
        Si tienes más preguntas, no dudes en contactarnos:
        
        📧 info@wacosta.com
        📱 WhatsApp: +57 315 454 3344
        🌐 www.wacosta.com
        
        ¡Que tengas un excelente día! 😊
